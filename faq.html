

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>FAQ &mdash; MAP++ 1.15 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="MAP++ 1.15 documentation" href="index.html"/>
        <link rel="next" title="Help" href="help.html"/>
        <link rel="prev" title="API Documentation" href="api_doc.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> MAP++
          

          
          </a>

          
            
            
              <div class="version">
                1.15
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="definitions.html">Definitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="theory.html">Theory</a></li>
<li class="toctree-l1"><a class="reference internal" href="input_file.html">Input File</a></li>
<li class="toctree-l1"><a class="reference internal" href="python_example.html">Python Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_doc.html">API Documentation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">FAQ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#using-with-python">Using with Python</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#python-doesn-t-load-map">Python doesn’t load MAP</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#initialization-errors">Initialization Errors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#i-get-warning-5-or-fatal-41-and-can-t-emerge-from-initialization">I get WARNING [5] or FATAL [41] and can’t emerge from initialization</a></li>
<li class="toctree-l3"><a class="reference internal" href="#maximum-iterations-are-exceeded-with-taut-mooring">Maximum iterations are exceeded with taut mooring</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#running-map">Running MAP++</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#what-are-the-units-of-the-linearized-stiffness-matrix">What are the units of the linearized stiffness matrix?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-linearized-stiffness-values-are-not-consistent">The linearized stiffness values are not consistent</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="help.html">Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref.html">References</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MAP++</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>FAQ</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/faq.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="faq">
<h1>FAQ<a class="headerlink" href="#faq" title="Permalink to this headline">¶</a></h1>
<div class="section" id="using-with-python">
<h2>Using with Python<a class="headerlink" href="#using-with-python" title="Permalink to this headline">¶</a></h2>
<div class="section" id="python-doesn-t-load-map">
<h3>Python doesn’t load MAP<a class="headerlink" href="#python-doesn-t-load-map" title="Permalink to this headline">¶</a></h3>
<p>If importing MAP++ into Python leads to this error on Linux/OSx:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>OSError: ../src/libmap-1.20.00.so: cannot open shared object file: No such file or directory
</pre></div>
</div>
<p>or on Windows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>WindowsError: <span class="o">[</span>Error <span class="m">126</span><span class="o">]</span> The specified module could not be found
</pre></div>
</div>
<p>then the issue is the MAP++ shared object/dll can’t be located by the MAP++ module.
This is corrected by changing the path where the .so/.dll is picked up in <code class="docutils literal notranslate"><span class="pre">mapsys.py</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">lib</span> <span class="o">=</span> <span class="n">cdll</span><span class="o">.</span><span class="n">LoadLibrary</span><span class="p">(</span><span class="s2">&quot;/directory/to/map/libmap-1.20.00.so&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>On Windows, it would look something like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">lib</span> <span class="o">=</span> <span class="n">cdll</span><span class="o">.</span><span class="n">LoadLibrary</span><span class="p">(</span><span class="s2">&quot;C:\User\local\directory\map_x64.dll&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="initialization-errors">
<h2>Initialization Errors<a class="headerlink" href="#initialization-errors" title="Permalink to this headline">¶</a></h2>
<div class="section" id="i-get-warning-5-or-fatal-41-and-can-t-emerge-from-initialization">
<h3>I get WARNING [5] or FATAL [41] and can’t emerge from initialization<a class="headerlink" href="#i-get-warning-5-or-fatal-41-and-can-t-emerge-from-initialization" title="Permalink to this headline">¶</a></h3>
<p>The error thrown at initialization is either:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>MAP_WARNING<span class="o">[</span><span class="m">5</span><span class="o">]</span> : Cable density is approaching the density of seawater.
                 This may result in the problem becoming poorly conditioned.
</pre></div>
</div>
<p>or</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>MAP_FATAL<span class="o">[</span><span class="m">41</span><span class="o">]</span> : Cable mass density is zero. Neutrally buoyant cables cannot
                be solved using quasi-statis model
</pre></div>
</div>
<p>We insert a check to warning the user if the cable is nearly neutrally buoyant.
This causes the solver to go on the fritz, and sometimes fail, because the algebraic equation is close to dividing by zero; see <a class="reference internal" href="theory.html#eq-horizontal"><span class="std std-ref">the horizontal cable equation</span></a>.
The straightforward way to fix this is to change <span class="math notranslate nohighlight">\(\omega\)</span> tolerance levels in <code class="docutils literal notranslate"><span class="pre">mapinit.c</span></code>
The default tolerance levels are omega <span class="math notranslate nohighlight">\(\omega&lt; 1.0\)</span> for a warning, and omega <span class="math notranslate nohighlight">\(\omega&lt;10^{-3}\)</span> for fatal.
In some cases, this is unavoidable and a different mooring program is needed.</p>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last">Include a run-time tolerance override option in the input file.</p>
</div>
</div>
<div class="section" id="maximum-iterations-are-exceeded-with-taut-mooring">
<h3>Maximum iterations are exceeded with taut mooring<a class="headerlink" href="#maximum-iterations-are-exceeded-with-taut-mooring" title="Permalink to this headline">¶</a></h3>
<p>The mooring system probably has a connect node.
I’d start by increasing <code class="docutils literal notranslate"><span class="pre">OUTER_TOL</span></code> by an order of magnitude more than the <a class="reference internal" href="input_file.html#default-options"><span class="std std-ref">default option</span></a>.
It doesn’t take much displacement error in the inner solve to cause a large difference in the outer loop, so there’s this constant game of playing catch-up.
Alternatively, you can decrease the inner loop solve tolerance, but you might be already approaching machine precision.
Taut lines are strange like that.</p>
<p>A good solver option/initial guess strategy should converge on a solution in under 100-500 total iterations in the first solve.</p>
</div>
</div>
<div class="section" id="running-map">
<h2>Running MAP++<a class="headerlink" href="#running-map" title="Permalink to this headline">¶</a></h2>
<div class="section" id="what-are-the-units-of-the-linearized-stiffness-matrix">
<h3>What are the units of the linearized stiffness matrix?<a class="headerlink" href="#what-are-the-units-of-the-linearized-stiffness-matrix" title="Permalink to this headline">¶</a></h3>
<p id="linearized-matrix-units">The linearized stiffness matrix is a <span class="math notranslate nohighlight">\(6\times 6\)</span> entry comprised of four <span class="math notranslate nohighlight">\(3 \times 3\)</span> blocks:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\mathbf{K}_{6\times 6}=\begin{bmatrix} \mathbf{A}_{3\times 3} &amp; \mathbf{B}_{3\times 3}\\  \mathbf{C}_{3\times 3} &amp; \mathbf{D}_{3\times 3} \end{bmatrix}\end{split}\]</div>
<p>The units are:</p>
<ul class="simple">
<li>[N/m] for <span class="math notranslate nohighlight">\(\mathbf{A}\)</span></li>
<li>[N/rad] for <span class="math notranslate nohighlight">\(\mathbf{B}\)</span></li>
<li>[Nm/m] for  <span class="math notranslate nohighlight">\(\mathbf{C}\)</span></li>
<li>[Nm/rad] for <span class="math notranslate nohighlight">\(\mathbf{D}\)</span></li>
</ul>
<p>Note that the reference position is fixed at the <a class="reference internal" href="input_file.html#ref-position-is-fixed"><span class="std std-ref">global origin</span></a>.</p>
</div>
<div class="section" id="the-linearized-stiffness-values-are-not-consistent">
<h3>The linearized stiffness values are not consistent<a class="headerlink" href="#the-linearized-stiffness-values-are-not-consistent" title="Permalink to this headline">¶</a></h3>
<p>This is likely attributed to round-off errors.
We recommend testing linearized stiffness matrix entries for sensitivity against different epsilon values, tolerances, and finite differencing methods.
The matrix entries should converge towards a set of values for those different options.</p>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="help.html" class="btn btn-neutral float-right" title="Help" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="api_doc.html" class="btn btn-neutral" title="API Documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, mdm.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.15',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>